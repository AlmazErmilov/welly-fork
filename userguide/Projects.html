<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="welly package" href="../welly.html" /><link rel="prev" title="Curves" href="Curves.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><meta name="generator" content="sphinx-4.4.0, furo 2022.02.14.1"/>
        <title>Projects - welly documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=a8f031f701c6af50c9919b48f173a5785af06fac" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=25ceb02ed1c46dc30f2321ff83e92799f69dfdb9" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">welly  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/welly_simple_alpha.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Quick_start.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="Wells.html">Wells</a></li>
<li class="toctree-l1"><a class="reference internal" href="Curves.html">Curves</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Projects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../welly.html">welly package</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/welly/">PyPI releases</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/agile-geoscience/welly">Code in GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/agile-geoscience/welly/issues">Issue tracker</a></li>
<li class="toctree-l1"><a class="reference external" href="https://code.agilescientific.com/community">Community guidelines</a></li>
<li class="toctree-l1"><a class="reference external" href="https://code.agilescientific.com">Agile's software</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.agilescientific.com">Agile's website</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="projects">
<h1>Projects<a class="headerlink" href="#projects" title="Permalink to this headline">#</a></h1>
<p>Wells are one of the fundamental objects in welly.</p>
<p>Well objects include collections of Curve objects. Multiple Well objects can be stored in a Project.</p>
<p>On this page, we take a closer look at the <code class="docutils literal notranslate"><span class="pre">Project</span></code> class. It lets us handle groups of wells. It is really just a list of <code class="docutils literal notranslate"><span class="pre">Well</span></code> objects, with a few extra powers.</p>
<p>First, some preliminaries…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">welly</span>

<span class="n">welly</span><span class="o">.</span><span class="n">__version__</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>'0.5.2rc0'
</pre></div>
</div>
</div>
</div>
<hr class="docutils"/>
<section id="make-a-project">
<h2>Make a project<a class="headerlink" href="#make-a-project" title="Permalink to this headline">#</a></h2>
<p>We have a few LAS files in a folder; we can load them all at once with standard POSIX file globbing syntax:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">welly</span><span class="o">.</span><span class="n">read_las</span><span class="p">(</span><span class="s2">"../../tests/assets/example_*.las"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0it [00:00, ?it/s]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2it [00:00,  9.23it/s]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2it [00:00,  9.19it/s]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Now we have a project, containing two files:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class="table-wrapper"><table><tr><th>Index</th><th>UWI</th><th>Data</th><th>Curves</th></tr><tr><td>0</td><td><strong>3-2-B</strong></td><td>12 curves</td><td>SP, SN, ILD, LLS, LLD, MLL, NPHI, RHOZ, CAL1, GRC, DTP, CAL2</td></tr><tr><td>1</td><td><strong>3-2-A</strong></td><td>12 curves</td><td>SP, SN, ILD, LLS, LLD, MLL, NPHI, RHOB, CAL1, GR, DT, CAL2</td></tr></table></div></div></div>
</div>
<p>You can pass in a list of files or URLs:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">welly</span><span class="o">.</span><span class="n">read_las</span><span class="p">([</span><span class="s1">'../../tests/assets/P-129_out.LAS'</span><span class="p">,</span>
                    <span class="s1">'https://geocomp.s3.amazonaws.com/data/P-130.LAS'</span><span class="p">,</span>
                    <span class="s1">'https://geocomp.s3.amazonaws.com/data/R-39.las'</span><span class="p">,</span>
                   <span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0it [00:00, ?it/s]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1it [00:02,  2.02s/it]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2it [00:04,  2.12s/it]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3it [00:05,  1.55s/it]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3it [00:05,  1.70s/it]
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>This project has three wells:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class="table-wrapper"><table><tr><th>Index</th><th>UWI</th><th>Data</th><th>Curves</th></tr><tr><td>0</td><td><strong>Long = 63* 45'24.460  W</strong></td><td>24 curves</td><td>CALI, HCAL, PEF, DT, DTS, DPHI_SAN, DPHI_LIM, DPHI_DOL, NPHI_SAN, NPHI_LIM, NPHI_DOL, RLA5, RLA3, RLA4, RLA1, RLA2, RXOZ, RXO_HRLT, RT_HRLT, RM_HRLT, DRHO, RHOB, GR, SP</td></tr><tr><td>1</td><td><strong>100/N14A/11E05</strong></td><td>18 curves</td><td>CALI, DT, NPHI_SAN, NPHI_LIM, NPHI_DOL, DPHI_LIM, DPHI_SAN, DPHI_DOL, M2R9, M2R6, M2R3, M2R2, M2R1, GR, SP, PEF, DRHO, RHOB</td></tr><tr><td>2</td><td><strong>303N764340060300</strong></td><td>22 curves</td><td>BS, CALI, CHR1, CHR2, CHRP, CHRS, DRHO, DT1R, DT2, DT2R, DT4P, DT4S, GR, HD1, HD2, HD3, NPOR, PEF, RHOB, SPR1, TENS, VPVS</td></tr></table></div></div></div>
</div>
<p>Typical, the UWIs are a disaster. Let’s ignore this for now.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Project</span></code> is really just a list-like thing, so you can index into it to get at a single well. Each well is represented by a <code class="docutils literal notranslate"><span class="pre">welly.Well</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class="table-wrapper"><table><tr><th colspan="2" style="text-align:center;">Kennetcook #2<br/><small>Long = 63* 45'24.460  W</small></th></tr><tr><td><strong>crs</strong></td><td>CRS({})</td></tr><tr><td><strong>location</strong></td><td>Lat = 45* 12' 34.237" N</td></tr><tr><td><strong>country</strong></td><td>CA</td></tr><tr><td><strong>province</strong></td><td>Nova Scotia</td></tr><tr><td><strong>latitude</strong></td><td></td></tr><tr><td><strong>longitude</strong></td><td></td></tr><tr><td><strong>datum</strong></td><td></td></tr><tr><td><strong>section</strong></td><td>45.20 Deg N</td></tr><tr><td><strong>range</strong></td><td>PD 176</td></tr><tr><td><strong>township</strong></td><td>63.75 Deg W</td></tr><tr><td><strong>ekb</strong></td><td>94.8</td></tr><tr><td><strong>egl</strong></td><td>90.3</td></tr><tr><td><strong>gl</strong></td><td>90.3</td></tr><tr><td><strong>tdd</strong></td><td>1935.0</td></tr><tr><td><strong>tdl</strong></td><td>1935.0</td></tr><tr><td><strong>td</strong></td><td>None</td></tr><tr><td><strong>data</strong></td><td>CALI, DPHI_DOL, DPHI_LIM, DPHI_SAN, DRHO, DT, DTS, GR, HCAL, NPHI_DOL, NPHI_LIM, NPHI_SAN, PEF, RHOB, RLA1, RLA2, RLA3, RLA4, RLA5, RM_HRLT, RT_HRLT, RXOZ, RXO_HRLT, SP</td></tr></table></div></div></div>
</div>
<p>Some of the fields of this LAS file are messed up; see the <a class="reference internal" href="Wells.html"><span class="doc std std-doc">Well notebook</span></a> for more on how to fix this.</p>
</section>
<section id="plot-curves-from-several-wells">
<h2>Plot curves from several wells<a class="headerlink" href="#plot-curves-from-several-wells" title="Permalink to this headline">#</a></h2>
<p>The DT log is called DT4P in one of the wells. We can deal with this sort of issue with aliases. Let’s set up an alias dictionary, then plot the DT log from each well:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'Sonic'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'DT'</span><span class="p">,</span> <span class="s1">'DT4P'</span><span class="p">],</span>
         <span class="s1">'Caliper'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'HCAL'</span><span class="p">,</span> <span class="s1">'CALI'</span><span class="p">],</span>
        <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
                        <span class="n">ncols</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">),</span>
                        <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">p</span><span class="p">)):</span>
    <span class="n">log</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">get_curve</span><span class="p">(</span><span class="s1">'Sonic'</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">log</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">log</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">"Sonic log for</span><span class="se">\n</span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">uwi</span><span class="p">))</span>

<span class="n">min_z</span><span class="p">,</span> <span class="n">max_z</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">basis_range</span>
    
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="n">max_z</span><span class="p">,</span> <span class="n">min_z</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/Projects_15_0.png" src="../_images/Projects_15_0.png"/>
</div>
</div>
</section>
<section id="get-a-pandas-dataframe">
<h2>Get a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code><a class="headerlink" href="#get-a-pandas-dataframe" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">df()</span></code> method makes a DataFrame using a dual index of UWI and Depth.</p>
<p>Before we export our wells, let’s give Kennetcook #2 a better UWI:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">uwi</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class="table-wrapper"><table><tr><th colspan="2" style="text-align:center;">Kennetcook #2<br/><small>Kennetcook #2</small></th></tr><tr><td><strong>crs</strong></td><td>CRS({})</td></tr><tr><td><strong>location</strong></td><td>Lat = 45* 12' 34.237" N</td></tr><tr><td><strong>country</strong></td><td>CA</td></tr><tr><td><strong>province</strong></td><td>Nova Scotia</td></tr><tr><td><strong>latitude</strong></td><td></td></tr><tr><td><strong>longitude</strong></td><td></td></tr><tr><td><strong>datum</strong></td><td></td></tr><tr><td><strong>section</strong></td><td>45.20 Deg N</td></tr><tr><td><strong>range</strong></td><td>PD 176</td></tr><tr><td><strong>township</strong></td><td>63.75 Deg W</td></tr><tr><td><strong>ekb</strong></td><td>94.8</td></tr><tr><td><strong>egl</strong></td><td>90.3</td></tr><tr><td><strong>gl</strong></td><td>90.3</td></tr><tr><td><strong>tdd</strong></td><td>1935.0</td></tr><tr><td><strong>tdl</strong></td><td>1935.0</td></tr><tr><td><strong>td</strong></td><td>None</td></tr><tr><td><strong>data</strong></td><td>CALI, DPHI_DOL, DPHI_LIM, DPHI_SAN, DRHO, DT, DTS, GR, HCAL, NPHI_DOL, NPHI_LIM, NPHI_SAN, PEF, RHOB, RLA1, RLA2, RLA3, RLA4, RLA5, RM_HRLT, RT_HRLT, RXOZ, RXO_HRLT, SP</td></tr></table></div></div></div>
</div>
<p>That’s better.</p>
<p>When creating the DataFrame, you can pass a list of the keys (mnemonics) you want, and use aliases as usual.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{'Sonic': ['DT', 'DT4P'], 'Caliper': ['HCAL', 'CALI']}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Caliper'</span><span class="p">,</span> <span class="s1">'GR'</span><span class="p">,</span> <span class="s1">'Sonic'</span><span class="p">]</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">df</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="n">keys</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span> <span class="n">rename_aliased</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<div class="table-wrapper"><table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th></th>
<th>Caliper</th>
<th>GR</th>
<th>Sonic</th>
</tr>
<tr>
<th>UWI</th>
<th>DEPT</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th rowspan="5" valign="top">Kennetcook #2</th>
<th>1.0668000000</th>
<td>4.3912849426</td>
<td>46.6986503600</td>
<td>NaN</td>
</tr>
<tr>
<th>1.2192000000</th>
<td>4.3912849426</td>
<td>46.6986503600</td>
<td>NaN</td>
</tr>
<tr>
<th>1.3716000000</th>
<td>4.3912849426</td>
<td>46.6986503600</td>
<td>NaN</td>
</tr>
<tr>
<th>1.5240000000</th>
<td>4.3912849426</td>
<td>46.6986503600</td>
<td>NaN</td>
</tr>
<tr>
<th>1.6764000000</th>
<td>4.3912849426</td>
<td>46.6986503600</td>
<td>NaN</td>
</tr>
<tr>
<th>...</th>
<th>...</th>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th rowspan="5" valign="top">303N764340060300</th>
<th>3387.5471999996</th>
<td>303.7090000000</td>
<td>32.0276000039</td>
<td>252.4951</td>
</tr>
<tr>
<th>3387.6995999996</th>
<td>303.7090000000</td>
<td>32.0276000000</td>
<td>252.4951</td>
</tr>
<tr>
<th>3387.8519999996</th>
<td>303.7090000000</td>
<td>32.0276000000</td>
<td>252.4951</td>
</tr>
<tr>
<th>3388.0043999996</th>
<td>303.7090000000</td>
<td>32.0276000000</td>
<td>252.4951</td>
</tr>
<tr>
<th>3388.1567999996</th>
<td>303.7090000000</td>
<td>32.0276000000</td>
<td>252.4951</td>
</tr>
</tbody>
</table></div>
<p>46594 rows × 3 columns</p>
</div></div></div>
</div>
</section>
<section id="quality">
<h2>Quality<a class="headerlink" href="#quality" title="Permalink to this headline">#</a></h2>
<p>Welly can run quality tests on the curves in your project. Some of the tests take arguments. You can test for things like this:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">all_positive</span></code>: Passes if all the values are greater than zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">all_above(50)</span></code>: Passes if all the values are greater than 50.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mean_below(100)</span></code>: Passes if the mean of the log is less than 100.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">no_nans</span></code>: Passes if there are no NaNs in the log.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">no_flat</span></code>: Passes if there are no sections of well log with the same values (e.g. because a gap was interpolated across with a constant value).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">no_monotonic</span></code>: Passes if there are no monotonic ramps in the log (e.g. because a gap was linearly interpolated across).</p></li>
</ul>
<p>Insert lists of tests into a dictionary with any of the following key examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'GR'</span></code>: The test(s) will run against the GR log.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'Gamma'</span></code>: The test(s) will run against the log matching according to the alias dictionary.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'Each'</span></code>: The test(s) will run against <em>every log</em> in a well.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'All'</span></code>: Some tests take multiple logs as input, for example <code class="docutils literal notranslate"><span class="pre">quality.no_similarities</span></code>. These test(s) will run against all the logs as a group. Could be quite slow, because there may be a lot of pairwise comparisons to do.</p></li>
</ul>
<p>The tests are run against all wells in the project. If you only want to run against a subset of the wells, make a new project for them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">welly.quality</span> <span class="k">as</span> <span class="nn">q</span>

<span class="n">tests</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'All'</span><span class="p">:</span> <span class="p">[</span><span class="n">q</span><span class="o">.</span><span class="n">no_similarities</span><span class="p">],</span>
    <span class="s1">'Each'</span><span class="p">:</span> <span class="p">[</span><span class="n">q</span><span class="o">.</span><span class="n">no_gaps</span><span class="p">,</span> <span class="n">q</span><span class="o">.</span><span class="n">no_monotonic</span><span class="p">,</span> <span class="n">q</span><span class="o">.</span><span class="n">no_flat</span><span class="p">],</span>
    <span class="s1">'GR'</span><span class="p">:</span> <span class="p">[</span><span class="n">q</span><span class="o">.</span><span class="n">all_positive</span><span class="p">],</span>
    <span class="s1">'Sonic'</span><span class="p">:</span> <span class="p">[</span><span class="n">q</span><span class="o">.</span><span class="n">all_positive</span><span class="p">,</span> <span class="n">q</span><span class="o">.</span><span class="n">all_between</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">)],</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s add our own test for units:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">has_si_units</span><span class="p">(</span><span class="n">curve</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">curve</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">'mm'</span><span class="p">,</span> <span class="s1">'gapi'</span><span class="p">,</span> <span class="s1">'us/m'</span><span class="p">,</span> <span class="s1">'k/m3'</span><span class="p">]</span>

<span class="n">tests</span><span class="p">[</span><span class="s1">'Each'</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">has_si_units</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We’ll use the same alias dictionary as before:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{'Sonic': ['DT', 'DT4P'], 'Caliper': ['HCAL', 'CALI']}
</pre></div>
</div>
</div>
</div>
<p>Now we can run the tests and look at the results, which are in an HTML table:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>

<span class="n">HTML</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">curve_table_html</span><span class="p">(</span><span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="s1">'Caliper'</span><span class="p">,</span> <span class="s1">'GR'</span><span class="p">,</span> <span class="s1">'Sonic'</span><span class="p">,</span> <span class="s1">'SP'</span><span class="p">,</span> <span class="s1">'RHOB'</span><span class="p">],</span>
                        <span class="n">tests</span><span class="o">=</span><span class="n">tests</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class="table-wrapper"><table><tr><th>Idx</th><th>UWI</th><th>Data</th><th>Passing</th><th>Caliper*</th><th>GR</th><th>Sonic*</th><th>SP</th><th>RHOB</th></tr><tr><td></td><td></td><td></td><td>%</td><td>3/3 wells</td><td>3/3 wells</td><td>3/3 wells</td><td>2/3 wells</td><td>3/3 wells</td></tr><tr><td>0</td><td><span style="font-weight:bold;">Kennetcook #2</span></td><td>5/24 curves</td><td>54</td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">HCAL<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="2/5">⬤</div><br><span style="font-size:70%; color:#33AA33">4.39 in</span></br></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">GR<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="4/6">⬤</div><br><span style="font-size:70%; color:#33AA33">78.99 gAPI</span></br></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">DT<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="5/7">⬤</div><br/><span style="font-size:70%; color:#33AA33">63.08 us/ft</span></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">SP<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="2/5">⬤</div><br/><span style="font-size:70%; color:#33AA33">52.47 mV</span></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">RHOB<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="2/5">⬤</div><br/><span style="font-size:70%; color:#33AA33">2.61 g/cm3</span></td></tr><tr><td>1</td><td><span style="font-weight:bold;">100/N14A/11E05</span></td><td>5/18 curves</td><td>79</td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">CALI<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="2/5">⬤</div><br/><span style="font-size:70%; color:#33AA33">8.90 in</span></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">GR<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#33EE33;" title="6/6">⬤</div><br/><span style="font-size:70%; color:#33AA33">103.74 gAPI</span></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">DT<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="6/7">⬤</div><br/><span style="font-size:70%; color:#33AA33">74.90 us/ft</span></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">SP<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="4/5">⬤</div><br/><span style="font-size:70%; color:#33AA33">101.60 mV</span></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">RHOB<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="4/5">⬤</div><br/><span style="font-size:70%; color:#33AA33">2.62 g/cm3</span></td></tr><tr><td>2</td><td><span style="font-weight:bold;">303N764340060300</span></td><td>4/22 curves</td><td>78</td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">CALI<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="3/5">⬤</div><br/><span style="font-size:70%; color:#33AA33">311.97 MM</span></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">GR<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#33EE33;" title="6/6">⬤</div><br/><span style="font-size:70%; color:#33AA33">67.49 GAPI</span></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">DT4P<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="6/7">⬤</div><br/><span style="font-size:70%; color:#33AA33">279.84 US/M</span></td><td style="background-color:#CCCCCC; line-height:80%; padding:5px 4px 2px 4px;"><div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#CCCCCC;" title="">⬤</div><br/><span style="font-size:70%; color:#33AA33"> </span></td><td style="background-color:#CCEECC; line-height:80%; padding:5px 4px 2px 4px;">RHOB<div style="font-size:80%; float:right; cursor: default; padding:4px 0px 4px 6px; color:#FFCC33;" title="3/5">⬤</div><br/><span style="font-size:70%; color:#33AA33">2493.56 K/M3</span></td></tr></table></div></div></div>
</div>
<p>Here’s how to interpret the result:</p>
<ul class="simple">
<li><p>Green background: the log is present. You can see the mean value and the units (check them!!).</p></li>
<li><p>Grey background: the log is not present.</p></li>
</ul>
<p>And the traffic light dots (hover to see how many tests passed):</p>
<ul class="simple">
<li><p>Green dot: all the tests passed.</p></li>
<li><p>Orange dot: some tests failed.</p></li>
<li><p>Red dot: all tests failed.</p></li>
<li><p>Grey dot: no tests ran.</p></li>
</ul>
<p>The <strong>Passing</strong> percentage shows how many tests passed for that well.</p>
<hr class="docutils"/>
<p>© 2022 Agile Scientific, CC BY</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../welly.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">welly package</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="Curves.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Curves</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, The Welly Authors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://code.agilescientific.com" aria-label="Agile">
                <svg width="200" height="200" version="1.1" viewBox="0 0 187.5 187.5" xmlns="http://www.w3.org/2000/svg">
                <g transform="matrix(3.94 -1.28 1.28 3.94 -906.1 -3676)" style="color-rendering:auto;color:#000000;fill:#14ca29;image-rendering:auto;isolation:auto;mix-blend-mode:normal;shape-rendering:auto;solid-color:#000000;stroke-width:1px;text-decoration-color:#000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-transform:none;white-space:normal">
                <path d="m-46.98 936.1q3.515-1.622 6.705-3.244t5.083-2.379 3.028-0.757q1.893 0 3.244 1.298 1.406 1.244 1.406 3.136 0 1.081-0.7029 2.271-0.6489 1.136-1.406 1.46-6.975 2.758-15.36 4.001 1.514 1.406 3.731 3.731t2.325 2.487q0.8111 1.136 2.271 2.812 1.46 1.676 2.001 2.65 0.5948 0.9192 0.5948 2.271 0 1.73-1.298 3.028t-3.352 1.298q-2.055 0-4.65-3.19-2.541-3.19-6.597-11.46-4.109 7.462-5.515 9.841t-2.704 3.623q-1.298 1.19-2.974 1.19-2.001 0-3.352-1.352-1.298-1.406-1.298-2.974 0-1.46 0.5407-2.217 4.975-6.759 10.38-11.73-4.542-0.7029-8.111-1.568t-7.57-2.541q-0.6489-0.3244-1.298-1.46-0.5948-1.19-0.5948-2.163 0-1.893 1.352-3.136 1.406-1.298 3.19-1.298 1.298 0 3.244 0.8111 1.947 0.757 4.921 2.271 3.028 1.46 6.867 3.298-0.7029-3.407-1.19-7.786-0.4326-4.434-0.4326-6.056 0-2.001 1.244-3.407 1.298-1.46 3.298-1.46 1.947 0 3.19 1.46 1.298 1.406 1.298 3.785 0 0.6489-0.2163 2.595-0.1622 1.893-0.5407 4.65-0.3244 2.704-0.757 6.218z" style="fill:#14ca29"/>
                </g>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Projects</a><ul>
<li><a class="reference internal" href="#make-a-project">Make a project</a></li>
<li><a class="reference internal" href="#plot-curves-from-several-wells">Plot curves from several wells</a></li>
<li><a class="reference internal" href="#get-a-pandas-dataframe">Get a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a></li>
<li><a class="reference internal" href="#quality">Quality</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    </body>
</html>