<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>welly.location module &mdash; welly  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="welly.plot module" href="welly.plot.html" />
    <link rel="prev" title="welly.las module" href="welly.las.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> welly
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../source/intro.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/req.html">Requirements</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api_toc.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="welly.html">welly package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="welly.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="welly.canstrat.html">welly.canstrat module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.canstrat_codes.html">welly.canstrat_codes module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.crs.html">welly.crs module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.curve.html">welly.curve module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.defaults.html">welly.defaults module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.fields.html">welly.fields module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.header.html">welly.header module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.las.html">welly.las module</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">welly.location module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.plot.html">welly.plot module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.project.html">welly.project module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.quality.html">welly.quality module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.scales.html">welly.scales module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.synthetic.html">welly.synthetic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.tools.html">welly.tools module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.utils.html">welly.utils module</a></li>
<li class="toctree-l4"><a class="reference internal" href="welly.well.html">welly.well module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="welly.html#module-welly">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../source/indices.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">welly</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="api_toc.html">welly</a> &raquo;</li>
          <li><a href="welly.html">welly package</a> &raquo;</li>
      <li>welly.location module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/welly.location.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-welly.location">
<span id="welly-location-module"></span><h1>welly.location module<a class="headerlink" href="#module-welly.location" title="Permalink to this headline"></a></h1>
<p>Defines well location.</p>
<dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>2021 Agile Geoscience</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>Apache 2.0</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="welly.location.Location">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">welly.location.</span></span><span class="sig-name descname"><span class="pre">Location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/welly/location.html#Location"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#welly.location.Location" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Contains all location and spatial information.</p>
<dl class="py method">
<dt class="sig sig-object py" id="welly.location.Location.add_deviation">
<span class="sig-name descname"><span class="pre">add_deviation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deviation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">td</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mc'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_deviation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth_datum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">course_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/welly/location.html#Location.add_deviation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#welly.location.Location.add_deviation" title="Permalink to this definition"></a></dt>
<dd><p>Add a deviation survey to this instance, and try to compute a position
log from it. Acts in place, modifying the Location instance directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deviation</strong> (<em>array</em>) – The columns should be: MD, INCL, AZI.</p></li>
<li><p><strong>td</strong> (<em>Number</em>) – The TD of the well, if not the end of the deviation
survey you’re passing.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – ‘aa’: average angle
‘bt’: balanced tangential
‘mc’: minimum curvature</p></li>
<li><p><strong>update_deviation</strong> – This function makes some adjustments to the dev-
iation survey, to account for the surface and TD. If you do not
want to change the stored deviation survey, set to False.</p></li>
<li><p><strong>azimuth_datum</strong> (<em>float</em>) – The orientation of the azimuth datum,
relative to the y-axis.</p></li>
<li><p><strong>course_length</strong> (<em>float</em>) – The length over which to normalize the dogleg
severity. Typical values are 30 m or 100 ft. Use 1 for no normal-
ization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None. Adds the position log to <cite>well.location</cite> in place.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="welly.location.Location.crs_from_epsg">
<span class="sig-name descname"><span class="pre">crs_from_epsg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epsg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/welly/location.html#Location.crs_from_epsg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#welly.location.Location.crs_from_epsg" title="Permalink to this definition"></a></dt>
<dd><p>Sets the CRS using an EPSG code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>epsg</strong> (<em>int</em>) – The EPSG code.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="welly.location.Location.crs_from_string">
<span class="sig-name descname"><span class="pre">crs_from_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/welly/location.html#Location.crs_from_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#welly.location.Location.crs_from_string" title="Permalink to this definition"></a></dt>
<dd><p>Sets the CRS using a PROJ4 string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> (<em>int</em>) – The PROJ4 string, eg ‘+init=epsg:4269 +no_defs’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="welly.location.Location.from_lasio">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_lasio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/welly/location.html#Location.from_lasio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#welly.location.Location.from_lasio" title="Permalink to this definition"></a></dt>
<dd><p>Make a Location object from a header object.
See <cite>las.from_las()</cite> for header object description.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>header</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>remap</strong> (<em>dict</em>) – Optional. A dict of ‘old’: ‘new’ LAS field names.</p></li>
<li><p><strong>funcs</strong> (<em>dict</em>) – Optional. A dict of ‘las field’: function() for
implementing a transform before loading. Can be a lambda.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Location. An instance of this class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="welly.location.Location.from_petrel">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_petrel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recalc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">north</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/welly/location.html#Location.from_petrel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#welly.location.Location.from_petrel" title="Permalink to this definition"></a></dt>
<dd><p>Add a location object from a Petrel <cite>dev</cite> file. Should contain the
(x, y), the CRS, the KB, and the position log.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<em>str</em>) – The dev filename.</p></li>
<li><p><strong>recalc</strong> (<em>bool</em>) – Whether to recalculate the position log from the
deviation survey (if possible). Default: <cite>False</cite>.</p></li>
<li><p><strong>north</strong> (<em>str</em>) – Can be ‘grid’ or ‘true’. This is only a preference;
if only one <cite>AZIM</cite> column is present, you’re getting whatever
it is.</p></li>
<li><p><strong>columns</strong> (<em>array</em>) – The columns of the dev file holding the data. If
recalc is False (default), then this will be the indices of
(x, y, TVDSS), in that order and zero-indexed. Default in that
case: <cite>[1, 2, 3]</cite>. However, if <cite>recalc</cite> is True then this will
be the indices of the dev file columns giving (MD, INCL, AZIM),
in that order. In this case the default is <cite>[0, 8, 10]</cite> for
‘grid’ north, or <cite>[0, 8, 7]</cite> for ‘true’ north.</p></li>
<li><p><strong>update</strong> – This function makes some adjustments to the position or
deviation data, to account for the surface and TD. If you don’t
want to change the data from the file, set to False. (The
Petrel file probably has absolute position, whereas <cite>welly</cite>
computes relative position, so the first row is always
(0, 0, 0). Also, <cite>welly</cite> always adds points for the 3D position
of TD and KB.)</p></li>
<li><p><strong>**kwargs</strong> – passed to <cite>welly.tools.compute_position_log</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Location. An instance of this class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="welly.location.Location.md">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">md</span></span><a class="headerlink" href="#welly.location.Location.md" title="Permalink to this definition"></a></dt>
<dd><p>The measured depth of the deviation survey.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ndarray.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="welly.location.Location.md2tvd">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">md2tvd</span></span><a class="headerlink" href="#welly.location.Location.md2tvd" title="Permalink to this definition"></a></dt>
<dd><p>Provides an transformation and interpolation function that converts
MD to TVD.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kind</strong> (<em>str</em>) – The kind of interpolation to do, e.g. ‘linear’,
‘cubic’, ‘nearest’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="welly.location.Location.plot_3d">
<span class="sig-name descname"><span class="pre">plot_3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/welly/location.html#Location.plot_3d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#welly.location.Location.plot_3d" title="Permalink to this definition"></a></dt>
<dd><p>Make a 3D plot of the well trajectory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="welly.location.Location.plot_plan">
<span class="sig-name descname"><span class="pre">plot_plan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/welly/location.html#Location.plot_plan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#welly.location.Location.plot_plan" title="Permalink to this definition"></a></dt>
<dd><p>Make a map-like plot of the well trajectory.</p>
<p>TODO
- Use cartopy or similar for this.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="welly.location.Location.trajectory">
<span class="sig-name descname"><span class="pre">trajectory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datum</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/welly/location.html#Location.trajectory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#welly.location.Location.trajectory" title="Permalink to this definition"></a></dt>
<dd><p>Get regularly sampled well trajectory. Assumes there is a position
log already, e.g. resulting from calling <cite>add_deviation()</cite> on a
deviation survey.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datum</strong> (<em>array-like</em>) – A 3-element array with adjustments to
(x, y, z). For example, the x-position, y-position, and KB of
the tophole location.</p></li>
<li><p><strong>elev</strong> (<em>bool</em>) – In general the (x, y, z) array of positions will have
z as TVD, which is positive down. If <cite>elev</cite> is True, positive
will be upwards.</p></li>
<li><p><strong>points</strong> (<em>int</em>) – The number of points in the trajectory.</p></li>
<li><p><strong>kwargs</strong> – Will be passed to <cite>scipy.interpolate.splprep()</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>ndarray. An array with shape (<cite>points</cite> x 3) representing the well</dt><dd><p>trajectory. Columns are (x, y, z).</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="welly.location.Location.tvd">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tvd</span></span><a class="headerlink" href="#welly.location.Location.tvd" title="Permalink to this definition"></a></dt>
<dd><p>The true vertical depth of the deviation survey.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ndarray.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="welly.location.Location.tvd2md">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tvd2md</span></span><a class="headerlink" href="#welly.location.Location.tvd2md" title="Permalink to this definition"></a></dt>
<dd><p>Provides an transformation and interpolation function that converts
MD to TVD.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kind</strong> (<em>str</em>) – The kind of interpolation to do, e.g. ‘linear’,
‘cubic’, ‘nearest’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>function.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="welly.las.html" class="btn btn-neutral float-left" title="welly.las module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="welly.plot.html" class="btn btn-neutral float-right" title="welly.plot module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, The Welly Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>